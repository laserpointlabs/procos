<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL"
  xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI"
  xmlns:dc="http://www.omg.org/spec/DD/20100524/DC"
  xmlns:di="http://www.omg.org/spec/DD/20100524/DI"
  id="Definitions_ProcOS_TDE" targetNamespace="http://procos/tde">
  <bpmn:process id="tde_template" name="TDE Template">
    <bpmn:startEvent id="Start" />
    <bpmn:exclusiveGateway id="ModeGateway" name="Mode?" />
    <bpmn:task id="DeterministicTask" name="Run Deterministic Adapter" />
    <bpmn:task id="ProbabilisticTask" name="Run LLM Loop" />
    <bpmn:task id="Report" name="Report Outcome" />
    <bpmn:endEvent id="End" />

    <bpmn:sequenceFlow id="f1" sourceRef="Start" targetRef="ModeGateway" />
    <bpmn:sequenceFlow id="f2" sourceRef="ModeGateway" targetRef="DeterministicTask" name="deterministic" />
    <bpmn:sequenceFlow id="f3" sourceRef="ModeGateway" targetRef="ProbabilisticTask" name="probabilistic" />
    <bpmn:sequenceFlow id="f4" sourceRef="DeterministicTask" targetRef="Report" />
    <bpmn:sequenceFlow id="f5" sourceRef="ProbabilisticTask" targetRef="Report" />
    <bpmn:sequenceFlow id="f6" sourceRef="Report" targetRef="End" />
  </bpmn:process>
  
  <bpmndi:BPMNDiagram id="Diag_TDE">
    <bpmndi:BPMNPlane id="Plane_tde_template" bpmnElement="tde_template">
      <bpmndi:BPMNShape id="Start_di" bpmnElement="Start">
        <dc:Bounds x="120" y="100" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ModeGateway_di" bpmnElement="ModeGateway">
        <dc:Bounds x="200" y="98" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="DeterministicTask_di" bpmnElement="DeterministicTask">
        <dc:Bounds x="300" y="60" width="180" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ProbabilisticTask_di" bpmnElement="ProbabilisticTask">
        <dc:Bounds x="300" y="150" width="180" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Report_di" bpmnElement="Report">
        <dc:Bounds x="520" y="100" width="140" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="End_di" bpmnElement="End">
        <dc:Bounds x="700" y="120" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="f1_di" bpmnElement="f1">
        <di:waypoint x="156" y="118" />
        <di:waypoint x="200" y="118" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="f2_di" bpmnElement="f2">
        <di:waypoint x="225" y="98" />
        <di:waypoint x="300" y="100" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="f3_di" bpmnElement="f3">
        <di:waypoint x="225" y="148" />
        <di:waypoint x="300" y="190" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="f4_di" bpmnElement="f4">
        <di:waypoint x="480" y="100" />
        <di:waypoint x="520" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="f5_di" bpmnElement="f5">
        <di:waypoint x="480" y="190" />
        <di:waypoint x="520" y="160" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="f6_di" bpmnElement="f6">
        <di:waypoint x="660" y="140" />
        <di:waypoint x="700" y="138" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
